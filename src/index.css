@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* ===========================================
   * COLOR SYSTEM - Simplified & Consistent
   * =========================================== */

  /* Primary Brand Color */
  --color-primary: #2563eb;
  --color-primary-hover: #1d4ed8;
  --color-primary-light: #3b82f6;

  /* Semantic Colors */
  --color-success: #22c55e;
  --color-error: #ef4444;
  --color-warning: #f59e0b;

  /* ===========================================
   * LIGHT MODE COLORS
   * =========================================== */

  /* Text - Light Mode */
  --color-text-primary: #111827;
  --color-text-secondary: #6b7280;
  --color-text-tertiary: #9ca3af;
  --color-text-inverse: #ffffff;

  /* Background - Light Mode */
  --color-bg: #f9fafb;
  --color-bg-elevated: #ffffff;
  --color-bg-muted: #f3f4f6;

  /* Border - Light Mode */
  --color-border: #e5e7eb;
  --color-border-strong: #d1d5db;

  /* ===========================================
   * DARK MODE COLORS
   * =========================================== */

  /* Text - Dark Mode */
  --color-text-primary-dark: #f9fafb;
  --color-text-secondary-dark: #9ca3af;
  --color-text-tertiary-dark: #6b7280;

  /* Background - Dark Mode (neutral gray, no blue tint) */
  --color-bg-dark: #0a0a0a;
  --color-bg-elevated-dark: #171717;
  --color-bg-muted-dark: #262626;

  /* Border - Dark Mode */
  --color-border-dark: #404040;
  --color-border-strong-dark: #525252;

  /* ===========================================
   * TYPOGRAPHY
   * =========================================== */
  --font-family-display: "Lexend", ui-sans-serif, system-ui, sans-serif;
}

/* ===========================================
 * BASE STYLES
 * =========================================== */
:root {
  color-scheme: light dark;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

html {
  height: 100%;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  height: 100%;
  background-color: var(--color-bg);
  color: var(--color-text-primary);
}

/* Dark mode - class based (manual toggle) */
html.dark body {
  background-color: var(--color-bg-dark);
  color: var(--color-text-primary-dark);
}

/* ===========================================
 * COMPONENT CLASSES
 * =========================================== */

/* --- Links --- */
.link {
  @apply text-primary hover:text-primary-hover transition-colors;
}

/* --- Buttons --- */
.btn {
  @apply inline-flex items-center justify-center rounded-lg font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
}

.btn-primary {
  @apply inline-flex items-center justify-center rounded-lg font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-primary text-white hover:bg-primary-hover;
}

.btn-secondary {
  @apply inline-flex items-center justify-center rounded-lg font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed bg-bg-muted text-text-primary hover:bg-border dark:bg-bg-muted-dark dark:text-text-primary-dark dark:hover:bg-border-dark;
}

.btn-sm {
  @apply h-9 px-3 text-sm;
}

.btn-md {
  @apply h-10 px-4 text-sm;
}

.btn-lg {
  @apply h-12 px-6 text-base;
}

/* --- Inputs --- */
.input {
  @apply w-full h-10 px-3 rounded-lg border text-sm transition-colors
    bg-bg-elevated text-text-primary border-border placeholder:text-text-tertiary
    focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary
    dark:bg-bg-elevated-dark dark:text-text-primary-dark dark:border-border-dark dark:placeholder:text-text-tertiary-dark;
}

/* --- Cards --- */
.card {
  @apply bg-bg-elevated rounded-xl border border-border shadow-sm
    dark:bg-bg-elevated-dark dark:border-border-dark;
}

/* --- Text Utilities --- */
.text-heading {
  @apply text-text-primary dark:text-text-primary-dark font-bold;
}

.text-body {
  @apply text-text-primary dark:text-text-primary-dark;
}

.text-muted {
  @apply text-text-secondary dark:text-text-secondary-dark;
}

/* --- Layout --- */
.page-container {
  @apply min-h-screen bg-bg dark:bg-bg-dark text-text-primary dark:text-text-primary-dark;
}

/* --- Navigation --- */
.nav-header {
  @apply flex items-center justify-between px-6 py-3
    bg-bg-elevated/80 border border-border rounded-lg backdrop-blur-sm
    dark:bg-bg-elevated-dark/80 dark:border-border-dark;
}

.nav-link {
  @apply text-sm font-medium text-text-secondary hover:text-primary transition-colors
    dark:text-text-secondary-dark dark:hover:text-primary-light;
}

.nav-link-active {
  @apply text-primary font-semibold dark:text-primary-light;
}

/* --- Form --- */
.form-label {
  @apply text-sm font-medium text-text-primary dark:text-text-primary-dark;
}

.form-error {
  @apply text-sm text-error;
}

/* ===========================================
 * ANIMATIONS
 * =========================================== */
@keyframes blink-caret {
  0%, 49% {
    border-color: transparent;
  }
  50%, 100% {
    border-color: currentColor;
  }
}

/* Material Symbols configuration */
.material-symbols-outlined {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}
